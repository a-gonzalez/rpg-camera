import { IMAGE_SIZE } from "./util.js";

export default class Map
{
    constructor()
    {
        console.log(`${this.constructor.name}.ctor @ ${new Date().toLocaleString()}`);
        
        this.initialize();
    }

    initialize()
    {
        this.columns = 12;
        this.rows = 12;

        this.image = new Image();
        this.image.src = "img/tilemap.png";
        this.image_columns = this.image.width / IMAGE_SIZE;

        this.layers = [[
            18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18,
            18, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 18,
            18, 6, 7, 7, 7, 7, 7, 7, 7, 7, 8, 18,
            18, 6, 7, 7, 7, 7, 7, 7, 7, 7, 8, 18,
            18, 6, 7, 16, 12, 12, 12, 12, 12, 17, 8, 18,
            18, 6, 7, 8, 18, 18, 18, 18, 18, 6, 8, 18,
            18, 6, 7, 8, 18, 18, 18, 18, 18, 6, 8, 18,
            18, 6, 7, 21, 2, 2, 2, 3, 18, 6, 8, 18,
            18, 6, 7, 7, 7, 7, 7, 8, 18, 6, 8, 18,
            18, 6, 7, 7, 7, 7, 7, 21, 2, 22, 8, 18,
            18, 11, 12, 12, 12, 12, 12, 12, 12, 12, 13, 18,
            18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18
        ], [
            19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19,
            4, 20, 23, 24, 0, 0, 23, 23, 0, 25, 24, 20,
            9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 14, 0, 0, 5, 0, 0, 0, 0, 20,
            14, 0, 0, 19, 0, 23, 10, 0, 0, 0, 0, 15,
            19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20,
            5, 0, 0, 0, 0, 24, 0, 0, 15, 0, 0, 0,
            10, 0, 5, 0, 0, 0, 0, 0, 4, 0, 0, 24,
            5, 15, 10, 0, 0, 0, 20, 0, 9, 0, 0, 0,
            10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 23,
            5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 5, 5,
            10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 10, 10
        ]/*, [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        ]*/];
    }

    getTile(layer, row, column)
    {
        return this.layers[layer][this.columns * row + column];
    }
}